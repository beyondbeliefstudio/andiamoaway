---
import { getCollection } from "astro:content";
import SpecialCard from "../components/SpecialCard.astro";
import Links from "./Links.astro";

const specials = await getCollection("specials");
---

<section class="specials">
    <div class="specials__container u-container">
        <div class="specials__intro content-md">
            <p class="eyebrow">Bucket list deals, limited-time only!</p>
            <h2>Current Travel Specials</h2>
            <p>Looking for a reason to finally book that dream getaway? These limited-time travel offers make it even sweeter to say Andiamo!</p>
                <Links variant="secondary" href="/contact">Snag A Trip</Links>
        </div>
        <div class="grid-auto-3">
            {
                specials.map((special) => <SpecialCard special={special}/>)
            }
        </div>
    </div>
</section>




<style lang="scss">
.specials {
    // margin-top: calc(var(--_spacing---section-space--main) * -3);
    padding-top: 0;
    padding-bottom: 2.5rem;
    position: relative;
    z-index: 0;
    background: var(--brand-primary);

    &__container {
        // padding-top: calc(var(--_spacing---section-space--main) * 3);
    }

    &__intro {
        margin-bottom: var(--_spacing---section-space--main);
        opacity: 0;

        h2 {
            color: var(--dark-800);
        }
    }
}

.specials.revealed {
    .specials__intro {
        animation: reveal-up 1.5s ease-in-out .5s forwards;
    }
}
</style>